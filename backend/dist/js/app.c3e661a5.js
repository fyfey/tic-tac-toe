(function(e){function n(n){for(var r,i,c=n[0],l=n[1],s=n[2],f=0,p=[];f<c.length;f++)i=c[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(n);while(p.length)p.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var l=t[c];0!==o[l]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var u=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},2221:function(e,n,t){"use strict";var r=t("e899"),o=t.n(r);o.a},"4c67":function(e,n,t){"use strict";t.r(n),t.d(n,"bitOffset",function(){return a}),t.d(n,"gridToIndex",function(){return r}),t.d(n,"indexToGrid",function(){return o}),t.d(n,"getMask",function(){return i}),t.d(n,"getCell",function(){return c}),t.d(n,"setCell",function(){return l}),t.d(n,"checkWin",function(){return f}),t.d(n,"checkDraw",function(){return p});t("cadf"),t("551c"),t("097d");function r(e,n){return 3*n+e}function o(e){return{x:e%3,y:Math.floor(e/3)}}function a(e,n){return 2*r(e,n)}function i(e,n){return 3<<a(e,n)}function c(e,n,t){return(e&i(n,t))>>a(n,t)}function l(e,n,t,r){return e&~(3<<a(n,t))|r<<a(n,t)}var s=[[63,21,1],[4032,1344,1],[258048,86016,1],[63,63,2],[4032,4032,2],[258048,258048,2],[12483,4161,1],[49932,16644,1],[199728,66576,1],[12483,12483,2],[49932,49932,2],[199728,199728,2],[13104,4368,1],[197379,65793,1],[197379,197379,2],[13104,13104,2]],u=s.length;function f(e){for(var n=0;n<u;n++)if((e&s[n][0])===s[n][1])return s[n][2];for(var t=0,r=0;r<9;r++)(e&3<<2*r)>0&&t++;return 9===t?-1:0}function p(e){for(var n=0,t=0;t<9;t++)(e&3<<2*t)>0&&n++;return 9===n&&!f()}},"5c0b":function(e,n,t){"use strict";var r=t("e332"),o=t.n(r);o.a},cd49:function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("097d");var r=t("2b0e"),o=t("6c20"),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],c=(t("5c0b"),t("2877")),l={},s=Object(c["a"])(l,a,i,!1,null,null,null);s.options.__file="App.vue";var u,f,p=s.exports,d=t("8c4f"),v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.loading?t("div",{staticClass:"middle"},[e._v("Finding a game "),t("font-awesome-icon",{attrs:{icon:["fa","spinner"],spin:""}})],1):e._e(),e.loading?e._e():t("div",{staticClass:"middle"},[-2===e.winner?t("players",{attrs:{player:e.player}}):e._e(),e.winner>-2?t("div",{staticClass:"notice"},[e.winner===e.player&&e.winner>-1?t("div",[e._v("You win!")]):e._e(),e.winner!==e.player&&e.winner>-1?t("div",[e._v("You lose!")]):e._e(),-1===e.winner?t("div",[e._v("Draw!")]):e._e(),t("a",{on:{click:function(n){e.reset()}}},[e._v("Play again")])]):e._e(),t("div",{class:{inactive:e.player!==e.turn,winner:e.winner>-1&&e.winner===e.player,loser:e.winner>-1&&e.winner!==e.player,draw:-1===e.winner},attrs:{id:"board"}},e._l(e.cells,function(n,r){return t("div",{key:r,staticClass:"cell",on:{click:function(n){e.clickCell(r)}}},[1===n?t("font-awesome-icon",{attrs:{icon:["far","circle"],size:"3x"}}):e._e(),2===n?t("font-awesome-icon",{attrs:{icon:["fa","times"],size:"3x"}}):e._e()],1)}),0)],1)])},y=[],_=(t("6c7b"),t("d225")),E=t("b0b4"),b=t("308d"),h=t("6bb5"),A=t("4e2b"),g=t("9ab4"),O=t("60a3"),w=t("768b"),m=(t("34ef"),t("7618")),M=t("0f68");(function(e){e[e["GAME"]=0]="GAME",e[e["MOVE"]=1]="MOVE"})(u||(u={})),function(e){e[e["GAME_SEARCH"]=0]="GAME_SEARCH",e[e["GAME_START"]=1]="GAME_START",e[e["GAME_QUIT"]=2]="GAME_QUIT",e[e["GAME_PLAYER_ONE"]=3]="GAME_PLAYER_ONE",e[e["GAME_PLAYER_TWO"]=4]="GAME_PLAYER_TWO",e[e["GAME_WIN_ONE"]=5]="GAME_WIN_ONE",e[e["GAME_WIN_TWO"]=6]="GAME_WIN_TWO",e[e["GAME_STALE_MATE"]=7]="GAME_STALE_MATE"}(f||(f={}));var T;f.GAME_SEARCH,f.GAME_START,f.GAME_QUIT,f.GAME_PLAYER_ONE,f.GAME_PLAYER_TWO;(function(e){e[e["ONE"]=0]="ONE",e[e["TWO"]=1]="TWO"})(T||(T={}));var G="https:"===location.protocol?"wss":"ws",k=location.hostname,j="ws"===G?8e3:location.port,x={url:"".concat(G,"://").concat(k,":").concat(j),serializer:function(e){if(e.type===u.MOVE&&"object"===Object(m["a"])(e)&&"player"in e.payload){var n=new Uint8Array([W(e.payload.player,e.payload.x,e.payload.y)]);return console.log("serialize move",e,n),n}return""},deserializer:function(e){console.log("resultSelector!",e.data);var n=new Uint8Array(e.data),t=Object(w["a"])(n,1),r=t[0];console.log("data",r);var o=0!=(1&r)?"Move":"Game";return"Game"===o?(console.log("Game",{payload:(254&r)>>1}),{type:u.GAME,payload:(254&r)>>1}):(console.info("Move",r,{player:(2&r)>>1!=0?1:0,x:(12&r)>>2,y:(48&r)>>4}),{type:u.MOVE,payload:{player:(2&r)>>1!=0?T.TWO:T.ONE,x:(12&r)>>2,y:(48&r)>>4}})},binaryType:"arraybuffer"},N=function(){return Object(M["a"])(x)};function W(e,n,t){return 1|e<<1|n<<2|t<<4}var P=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"players"}},[t("div",{attrs:{id:"player-one"}},[0===e.player?t("span",[e._v("You "),t("font-awesome-icon",{attrs:{icon:["far","circle"],size:"1x"}})],1):e._e(),1===e.player?t("span",[e._v("You "),t("font-awesome-icon",{attrs:{icon:["fa","times"],size:"1x"}})],1):e._e()]),e._m(0),t("div",{attrs:{id:"player-two"}},[0===e.player?t("span",[t("font-awesome-icon",{attrs:{icon:["fa","times"],size:"1x"}}),e._v(" Opponent")],1):e._e(),1===e.player?t("span",[t("font-awesome-icon",{attrs:{icon:["far","circle"],size:"1x"}}),e._v(" Opponent")],1):e._e()])])},R=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"separator"},[t("i",{staticClass:"fa fa-arrow-left"})])}],S=function(e){function n(){return Object(_["a"])(this,n),Object(b["a"])(this,Object(h["a"])(n).apply(this,arguments))}return Object(A["a"])(n,e),n}(O["b"]);S=g["b"]([Object(O["a"])({props:["player"]})],S);var Y=S,C=Y,I=(t("e41e"),Object(c["a"])(C,P,R,!1,null,null,null));I.options.__file="Players.vue";var L,z=I.exports,U=t("4c67"),V=U.gridToIndex,Q=U.indexToGrid,$=function(e){function n(){var e;return Object(_["a"])(this,n),e=Object(b["a"])(this,Object(h["a"])(n).apply(this,arguments)),e.loading=!0,e.cells=new Array(9).fill(0),e.player=null,e.turn=0,e.winner=-2,e}return Object(A["a"])(n,e),Object(E["a"])(n,[{key:"created",value:function(){this.reset()}},{key:"reset",value:function(){var e=this;this.loading=!0,this.cells=new Array(9).fill(0),this.player=null,this.turn=0,this.winner=-2,L=N(),L.subscribe(function(n){console.log("message",n),n.type===u.GAME&&e.handleGameEvent(n.payload),n.type===u.MOVE&&e.handleMoveEvent(n.payload)})}},{key:"handleGameEvent",value:function(e){switch(console.log("game event",e),e){case f.GAME_START:console.log("GAME START"),this.loading=!1;break;case f.GAME_PLAYER_ONE:this.loading=!1,this.player=T.ONE,console.log("PLAYER ONE",this.player);break;case f.GAME_PLAYER_TWO:this.loading=!1,this.player=T.TWO,console.log("PLAYER TWO",this.player);break;case f.GAME_WIN_ONE:this.winner=T.ONE,console.log("WIN PLAYER ONE. You are player",this.player),L.complete();break;case f.GAME_WIN_TWO:this.winner=T.TWO,console.log("WIN PLAYER TWO. You are player",this.player),L.complete();break;case f.GAME_STALE_MATE:this.winner=-1,L.complete();break;case f.GAME_QUIT:console.log("QUIT"),this.loading=!0,this.player=null;break}}},{key:"handleMoveEvent",value:function(e){console.log("move event",e),this.cells[V(e.x,e.y)]=e.player+1,this.turn=1-this.turn}},{key:"clickCell",value:function(e){if(console.log("Click cell",e),this.player===this.turn){var n=Q(e),t=n.x,r=n.y;L.next({type:u.MOVE,payload:{player:this.player,x:t,y:r}})}}}]),n}(O["b"]);$=g["b"]([Object(O["a"])({components:{Players:z},data:function(){return{}}})],$);var F=$,H=F,D=(t("2221"),Object(c["a"])(H,v,y,!1,null,null,null));D.options.__file="Game.vue";var J=D.exports;r["default"].use(d["a"]);var q=new d["a"]({routes:[{path:"/",name:"login",redirect:"/game"},{path:"/game",name:"game",component:J}]}),B=(t("7f7f"),t("2f62"));r["default"].use(B["a"]);var K=new B["a"].Store({state:{name:"",board:0,searching:!1,opponent:"",turn:!1},mutations:{setName:function(e,n){e.name=n.name}},actions:{}}),X=t("9483");Object(X["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Z=t("ecee"),ee=t("c074"),ne=t("b702"),te=t("ad3d");Z["c"].add(ne["a"],ee["b"],ee["a"]),r["default"].component("font-awesome-icon",te["a"]),r["default"].config.productionTip=!1,console.log("obs",o["a"]),new r["default"]({router:q,store:K,render:function(e){return e(p)}}).$mount("#app")},e332:function(e,n,t){},e41e:function(e,n,t){"use strict";var r=t("ee27"),o=t.n(r);o.a},e899:function(e,n,t){},ee27:function(e,n,t){}});
//# sourceMappingURL=app.c3e661a5.js.map